const ProductType = require('../models/ProductType');

const initialProductTypes = [
  {
    name: 'Tiles',
    unit_of_measure: 'sqm',
    attributes: {
      requiredFields: ['size', 'color', 'finish', 'thickness', 'grade'],
      optionalFields: ['pattern', 'material', 'usage']
    }
  },
  {
    name: 'Handwash Basins',
    unit_of_measure: 'pcs',
    attributes: {
      requiredFields: ['material', 'color', 'dimensions'],
      optionalFields: ['style', 'mounting_type', 'tap_holes']
    }
  },
  {
    name: 'Water Cisterns',
    unit_of_measure: 'pcs',
    attributes: {
      requiredFields: ['capacity', 'type', 'color'],
      optionalFields: ['material', 'flush_mechanism']
    }
  },
  {
    name: 'Bathroom Showers',
    unit_of_measure: 'pcs',
    attributes: {
      requiredFields: ['type', 'material', 'finish'],
      optionalFields: ['spray_patterns', 'pressure_rating']
    }
  },
  {
    name: 'Luxury Baths',
    unit_of_measure: 'pcs',
    attributes: {
      requiredFields: ['material', 'length', 'style'],
      optionalFields: ['color', 'features']
    }
  }
];

async function seedProductTypes() {
  try {
    for (const type of initialProductTypes) {
      await ProductType.findOrCreate({
        where: { name: type.name },
        defaults: type
      });
    }
    console.log('✅ Product types seeded successfully');
  } catch (error) {
    console.error('❌ Error seeding product types:', error);
    throw error;
  }
}

module.exports = seedProductTypes;
